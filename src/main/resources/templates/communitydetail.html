<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<style type="text/css">
.header {
	width: 90vw;
	height: 13vh;
	border-bottom: 1px solid #EEEEEE;
	margin-left: auto;
	margin-right: auto;
	margin-bottom: 5vh;
	display:grid;
}
.header a{
	color: inherit;
	text-decoration: none;
}

.header-category {
	display: flex;
	justify-content: center;
	align-items: center;
}
.header-left{
	flex:2;
	display: flex;
	justify-content: center;
	align-items: center;
}
.header-center{
	flex:3;
	display: flex;
	justify-content: center;
	align-items: center;
}
.header-right{
	flex:2;
	display: flex;
	justify-content: center;
	align-items: center;
}
#logimg {
	width: 16vw;
	height: 12vh;
	padding-right:1vw;
}

.header-category>label {
	/* border: 1px solid;
            border-radius: 5px; */
	color: #595959;
	font-family: 'Noto Sans KR Regular', sans-serif;
	padding: 7px;
	padding-top: 0.2vh;
	padding-bottom: 0.2vh;
	cursor: pointer;
}

#label-left-course {
	margin: auto;
}

#label-left-community {
	margin: auto;
}

#label-left-chat {
	margin: auto;
}

#label-right-login {
	padding-left: 1vw;
	padding-right: 1vw;
	margin-left: 3vw;
}

#label-right-register {
	margin-left: 3vw;
}

	#detail{
            width:50%;
           	height:90vh;
            min-width:800px;
	        margin:20px auto;
	        text-align:center;
        }
        #category-img{
            width:5%;
            float: left;
            
        }
        #top_title{
            float: left;
            padding:1%;
            margin-bottom:2%;
            font-size:22px;
        }
        #write_title{
            height:4vh;
            clear: both;
            border-top:solid 1px black;
            border-bottom: solid 1px black;
        }
        .left{
            float: left;
        }
        .right{
            float: right;
        }
        #contentText{
            
            width: 99%;
            height:40vh;
            margin-top:1%;
            backgrount-color:white;
            text-align:left;
            float:left;
            
        }
       
        #title{padding:0.5%;}
        #fmtdate{padding:0.5%;}
        #date{padding:0.5%;}
        #writer_user{padding:0.5%; margin-right: 2%;}
        #writer{padding:0.5%;}
        #updateBT{
        	width:10%;
            height:3.3vh;
            background-color: #B8E9FF;
            border:none;
            border-radius: 7px;
            float:right;
            margin-right:0.5%;
            cursor:pointer;
        }
        #deleteBT{
        	width:10%;
            height:3.3vh;
            background-color: #B8E9FF;
            border:none;
            border-radius: 7px;
            float:right;
            margin-right:0.5%;
            cursor:pointer;
        }
        #listBT{
        	width:10%;
            height:3.3vh;
            background-color: #B8E9FF;
            border:none;
            border-radius: 7px;
            float:right;
            cursor:pointer;
        }
        
        #contentImg{
        	float: left;
        	width-max:100%;
        	width: 60%;
        	hegith:10vh;
        }
        #contentAndImg{
        	border: solid 1px black;
        	margin-top:1%;
        	margin-bottom:1%;
        	padding: 1%;
        	height:60vh;
        	overflow: auto;
        	padding-left:5%;
        	padding-top:5%;
        }
        #menu{
			width: 100%;
			height: 40px;
		}

		#menu ul li{
			background-color: #ffffff;
			list-style: none;
			text-align: center;
		}
		
		#menu .linka{
			float: left;
		}
		
		#menu .linkb{
			float: right;
		}
		
		#menu .link{
			width: 120px;
			text-decoration: none;
			display: block;
			color: #000000;
			font-weight: bold;
		}
		
		#logo {
			width: 200px;
			height: 100px;
			}
</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:inline="javascript">
        /*<![CDATA[*/
$(function(){
    var deleteURL = /*[[ @{/community/communitydelete(communityNumber=${dto.communityNumber})} ]]*/ '';

    $("#deleteBT").on('click', function(){
        var result = confirm("게시글을 삭제 하시겠습니까?");
        if (result) {
            location.href = deleteURL;
        } else {
            return false;
        }
    });
});
/*]]>*/
</script>
</head>
<body>
	<div class="header">
		<div class="header-category">
			<div class="header-left">
				<a href="/course/recommandcourse" id="label-left-course">코스추천</a>
				<a href="/community/communitymain" id="label-left-community">커뮤니티</a> 
				<a href="/chatting" id="label-left-chat">채팅방</a>
			</div>
			<div class="header-center">
				<a href="/"><img src="/resources/image/logo.png" alt="" id="logimg"></a>
			</div>
			<!-- 로그인전 --> 
			<div class ="header-right" th:if="${session.login == null}">
				<a href="/login" id="label-right-login">로그인</a> 
				<a href="/login/registerform" id="label-right-login">회원가입</a>
			</div>
				<!-- 로그인 후 -->
			<div class ="header-right" th:if="${session.login != null}" >
				<a href="/login/logout" id="label-right-login">로그아웃</a>
				<a href="/login/usermain" id="label-right-register">마이페이지</a>
			</div> 
		</div>
	</div>
	<div id="detail">
        <div th:if="${dto.communityCategory} == 'tip'">
            <div><img src="/resources/image/bulb.png" id="category-img"></div>
            <div id="top_title">제주도 여행팁</div>
        </div>
        <div th:if="${dto.communityCategory} == 'review'">
            <div><img src="/resources/image/pencil.png" id="category-img"></div>
            <div id="top_title">제주도 여행후기</div>
        </div>
        <div id="write_title">
            <div id="title" class="left" th:text="${dto.communityTitle}"></div>
            <div id="fmtdate" class="right" th:text="${#dates.format(dto.communityDate, 'yyyy-MM-dd')}"></div>
            <div id="date" class="right">작성일자</div>
            <div id="writer_user" class="right" th:text="${dto.communityWriter}"></div>
            <div id="writer" class="right" >작성자</div>
            
        </div>
        <div id=contentAndImg>
	        <div th:if="${image != null}">
	    		<div th:if="${image.imageNumber != null}" >
	        		<img th:src="|/community/image/__${image.imageStoredName}__|" id="contentImg">
	    		</div>
	    		<div th:unless="${image.imageNumber != null}" th:text=""></div>
			</div>
			<div id="contentText" th:utext="${dto.communityContent}"></div>
		</div>
		
        <div id="button">
            <input type="button" value="목록" id="listBT" onclick="location.href='/community/communitymain'">
            <div th:if="${dto.communityWriter == session.login}">
            	<input type="button" value="삭제" id="deleteBT">
            	<input type="button" value="수정" id="updateBT" th:onclick="|location.href='@{/community/communityupdateform(communityNumber=${dto.communityNumber})}'|">
            </div>
            <div th:unless="${dto.communityWriter == session.login}"></div>
        </div>
        
    </div>
</body>
</html>