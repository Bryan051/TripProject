<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	#detail{
            width:50%;
           	height:90vh;
            min-width:800px;
	        margin:20px auto;
	        text-align:center;
	        margin-top:8%;
        }
        #img{
            width:5%;
            float: left;
            
        }
        #top_title{
            float: left;
            padding:1%;
            margin-bottom:2%;
            font-size:22px;
        }
        #write_title{
            height:4vh;
            clear: both;
            border-top:solid 1px black;
            border-bottom: solid 1px black;
        }
        .left{
            float: left;
        }
        .right{
            float: right;
        }
        #contentText{
            
            width: 99%;
            height:40vh;
            margin-top:1%;
            backgrount-color:white;
            text-align:left;
            float:left;
            
        }
       
        #title{padding:0.5%;}
        #fmtdate{padding:0.5%;}
        #date{padding:0.5%;}
        #writer_user{padding:0.5%; margin-right: 2%;}
        #writer{padding:0.5%;}
        #updateBT{
        	width:10%;
            height:3.3vh;
            background-color: #B8E9FF;
            border-color: #B8E9FF;
            border-radius: 7px;
            float:right;
            margin-right:0.5%;
            cursor:pointer;
        }
        #deleteBT{
        	width:10%;
            height:3.3vh;
            background-color: #B8E9FF;
            border-color: #B8E9FF;
            border-radius: 7px;
            float:right;
            margin-right:0.5%;
            cursor:pointer;
        }
        #listBT{
        	width:10%;
            height:3.3vh;
            background-color: #B8E9FF;
            border-color: #B8E9FF;
            border-radius: 7px;
            float:right;
            cursor:pointer;
        }
        
        #contentImg{
        	float: left;
        	width-max:100%;
        	width: 60%;
        	hegith:10vh;
        }
        #contentAndImg{
        	border: solid 1px black;
        	margin-top:1%;
        	margin-bottom:1%;
        	padding: 1%;
        	height:60vh;
        	overflow: auto;
        	padding-left:5%;
        	padding-top:5%;
        }
        #menu{
			width: 100%;
			height: 40px;
		}

		#menu ul li{
			background-color: #ffffff;
			list-style: none;
			text-align: center;
		}
		
		#menu .linka{
			float: left;
		}
		
		#menu .linkb{
			float: right;
		}
		
		#menu .link{
			width: 120px;
			text-decoration: none;
			display: block;
			color: #000000;
			font-weight: bold;
		}
		
		#logo {
			width: 200px;
			height: 100px;
			}
</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
#(document).ready(function(){
	$("#deleteBT").on('click', function(){
		alert("게시글을 삭제 하시겠습니까?");
	});
});
</script>
</head>
<body>
	<nav id="menu">
		<div style="text-align: center;">
			<img id="logo" src="/resources/image/logo.png">
		</div>
		<ul>
			<li class="linka" ><a class="link" href="#">일정생성</a></li>
			<li class="linka" ><a class="link" href="/community/communitymain">커뮤니티</a></li>
			<li class="linka" ><a class="link" href="/chatting">채팅방</a></li>
			<li class="linkb" ><a class="link" href="/login/userupdateform">마이페이지</a></li>
		</ul>
	</nav>
	<div id="detail">
        <div th:if="${dto.communityCategory} == 'tip'">
            <div><img src="/resources/image/bulb.png" id="img"></div>
            <div id="top_title">제주도 여행팁</div>
        </div>
        <div th:if="${dto.communityCategory} == 'review'">
            <div><img src="/resources/image/pencil.png" id="img"></div>
            <div id="top_title">제주도 여행후기</div>
        </div>
        <div id="write_title">
            <div id="title" class="left" th:text="${dto.communityTitle}"></div>
            <div id="fmtdate" class="right" th:text="${#dates.format(dto.communityDate, 'yyyy-MM-dd')}"></div>
            <div id="date" class="right">작성일자</div>
            <div id="writer_user" class="right" th:text="${dto.communityWriter}"></div>
            <div id="writer" class="right" >작성자</div>
            
        </div>
        <div id=contentAndImg>
	        <div th:if="${image != null}">
	    		<div th:if="${image.imageNumber != null}" >
	        		<img th:src="|/community/image/__${image.imageStoredName}__|" id="contentImg">
	    		</div>
	    		<div th:unless="${image.imageNumber != null}" th:text=""></div>
			</div>
			<div id="contentText" th:utext="${dto.communityContent}"></div>
		</div>
		
        <div id="button">
            <input type="button" value="목록" id="listBT" onclick="location.href='/community/communitymain'">
            <div th:if="${dto.communityWriter == session.login}">
            	<input type="button" value="삭제" id="deleteBT" th:onclick="|location.href='@{/community/communitydelete(communityNumber=${dto.communityNumber})}'|">
            	<input type="button" value="수정" id="updateBT" th:onclick="|location.href='@{/community/communityupdateform(communityNumber=${dto.communityNumber})}'|">
            </div>
            <div th:unless="${dto.communityWriter == session.login}"></div>
        </div>
        
    </div>
</body>
</html>